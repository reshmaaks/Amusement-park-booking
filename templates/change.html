{% block content %}
{% load static %}
<!DOCTYPE html>
<html lang="en" >
<head>
	<script src="https://www.google.com/recaptcha/api.js" async defer></script>
  <meta charset="UTF-8">
  <title> Sign up / Login Form</title>
  <link rel="stylesheet" href="{% static 'login/style.css' %}">

	<title>Slide Navbar</title>
	<link rel="stylesheet" type="text/css" href="slide navbar style.css">
<link href="https://fonts.googleapis.com/css2?family=Jost:wght@500&display=swap" rel="stylesheet">
<style>
	.error-msg{
		margin-left:15%;
		
	}
</style>

</head>
<body style="background-image:url('../static/images/x2.jpg');">
	<div class="main">  	
		<input type="checkbox" id="chk" aria-hidden="true">

			<div class="signup">
				<form onsubmit ="return  passwordValidation() && newpasswordValidation() && cpasswordValidation" action="{% url 'change_password' %}" method="post" align="center" id="logform" name="logform">
					{% include 'alert.html' %}
                	{% csrf_token %}
					<label for="chk" aria-hidden="true">Change Password</label>
                    <input type="password" name="current_password" placeholder="Password" id="pass" onkeyup='passwordValidation(this)' required="">
					<div class="error-msg" id="password"> </div>
					<input type="password" name="new_password" placeholder="Password" id="pass1" onkeyup='passwordValidation(this)' required="">
					<div class="error-msg" id="npassword"> </div>
					<input type="password" name="confirm_password" placeholder="Confirm Password" id="pass2" onkeyup='cpasswordValidation(this)' required="">
					<div class="error-msg" id="confirmpassword"> </div>
					<button>Update</button>
				</form>
			</div>
			
	</div>
	
<script type="text/javascript">
	
    function passwordValidation(inputTxt){
        
        var regx = /(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}/;
        var textField = document.getElementById("password");
    
        if(inputTxt.value != '' ){
                if(inputTxt.value.match(regx)){
                    textField.textContent = '';
                    textField.style.color = "green";
    
                }else{
                    textField.textContent = 'Must contain at least one number and one uppercase and lowercase letter and aleast 5 characters';
                    textField.style.color = "red";
                }
        }else{
            textField.textContent = 'your input is empty';
            textField.style.color = "red";
        }
    }
    function newpasswordValidation(inputTxt){
        
        var regx = /(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}/;
        var textField = document.getElementById("npassword");
    
        if(inputTxt.value != '' ){
                if(inputTxt.value.match(regx)){
                    textField.textContent = '';
                    textField.style.color = "green";
    
                }else{
                    textField.textContent = 'Must contain at least one number and one uppercase and lowercase letter and aleast 5 characters';
                    textField.style.color = "red";
                }
        }else{
            textField.textContent = 'your input is empty';
            textField.style.color = "red";
        }
    }
    function cpasswordValidation(inputTxt){
        
        var regx =  document.getElementById("pass1").value;
        var regy =  document.getElementById("pass2").value;
        var textField = document.getElementById("confirmpassword");
        var textField1 = document.getElementById("password");
    
        if(inputTxt.value != '' ){
                if(regx == regy){
                    textField.textContent = '';
                    textField.style.color = "green";
    
                }else{
                    textField.textContent = 'not match';
                    textField.style.color = "red";
                }
            }else{
                textField.textContent = '';
                textField.style.color = "red";
            }
    }
    </script>
     
</body>

</html>

{% endblock %}